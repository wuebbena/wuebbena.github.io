/*! For license information please see qtei.js.LICENSE.txt */
(()=>{var e={633:(e,t,n)=>{"use strict";n.r(t),n.d(t,{indexW:()=>c,toggleWWhiteSpace:()=>s,wrapAll:()=>a});var r=n(138);function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t,n){return function(i){var a,s=o(i.querySelectorAll(e));try{for(s.s();!(a=s.n()).done;){var c=a.value,l=(0,r.Ot)(c,t);l.classList.add(n),c.replaceWith(l)}}catch(e){s.e(e)}finally{s.f()}}}function s(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){var n,r=o(t.querySelectorAll("w[join=right], w[join=both]"));try{for(r.s();!(n=r.n()).done;){var i=n.value.nextSibling;3==i.nodeType&&e&&(i.textContent="")}}catch(e){r.e(e)}finally{r.f()}var a,s=o(t.querySelectorAll("w[join=both], w[join=left]"));try{for(s.s();!(a=s.n()).done;){var c=a.value.previousSibling;3==c.nodeType&&e&&(c.textContent="")}}catch(e){s.e(e)}finally{s.f()}}}function c(e){var t,n=[],r=o(e.querySelectorAll("w"));try{for(r.s();!(t=r.n()).done;){var i=t.value;if("left"==i.getAttribute("join")){n.push(i);var a,s=o(n);try{for(s.s();!(a=s.n()).done;){a.value.sequence=n}}catch(e){s.e(e)}finally{s.f()}n=[]}else n.push(i)}}catch(e){r.e(e)}finally{r.f()}}},138:(e,t,n)=>{"use strict";n.d(t,{Ot:()=>a,iT:()=>i});var r=n(465),o=n.n(r);function i(e,t){return o()(e,{indentation:t,collapseContent:!0,lineSeparator:"\n"})}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"span",r=document.createElement(n);r.append(e.cloneNode(!0));var o=document.createElement("i");return o.classList.add("bi-".concat(t)),r.append(o),r}},501:function(e,t,n){var r;e=n.nmd(e),function(o){var i=t,a=(e&&e.exports,"object"==typeof n.g&&n.g);a.global!==a&&a.window;var s=function(e){this.message=e};(s.prototype=new Error).name="InvalidCharacterError";var c=function(e){throw new s(e)},l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=/[\t\n\f\r ]/g,h={encode:function(e){e=String(e),/[^\0-\xFF]/.test(e)&&c("The string to be encoded contains characters outside of the Latin1 range.");for(var t,n,r,o,i=e.length%3,a="",s=-1,u=e.length-i;++s<u;)t=e.charCodeAt(s)<<16,n=e.charCodeAt(++s)<<8,r=e.charCodeAt(++s),a+=l.charAt((o=t+n+r)>>18&63)+l.charAt(o>>12&63)+l.charAt(o>>6&63)+l.charAt(63&o);return 2==i?(t=e.charCodeAt(s)<<8,n=e.charCodeAt(++s),a+=l.charAt((o=t+n)>>10)+l.charAt(o>>4&63)+l.charAt(o<<2&63)+"="):1==i&&(o=e.charCodeAt(s),a+=l.charAt(o>>2)+l.charAt(o<<4&63)+"=="),a},decode:function(e){var t=(e=String(e).replace(u,"")).length;t%4==0&&(t=(e=e.replace(/==?$/,"")).length),(t%4==1||/[^+a-zA-Z0-9/]/.test(e))&&c("Invalid character: the string to be decoded is not correctly encoded.");for(var n,r,o=0,i="",a=-1;++a<t;)r=l.indexOf(e.charAt(a)),n=o%4?64*n+r:r,o++%4&&(i+=String.fromCharCode(255&n>>(-2*o&6)));return i},version:"1.0.0"};void 0===(r=function(){return h}.call(t,n,t,e))||(e.exports=r)}()},458:(e,t)=>{!function(e){var t,n,r,o=String.fromCharCode;function i(e){for(var t,n,r=[],o=0,i=e.length;o<i;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<i?56320==(64512&(n=e.charCodeAt(o++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--):r.push(t);return r}function a(e){if(e>=55296&&e<=57343)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}function s(e,t){return o(e>>t&63|128)}function c(e){if(0==(4294967168&e))return o(e);var t="";return 0==(4294965248&e)?t=o(e>>6&31|192):0==(4294901760&e)?(a(e),t=o(e>>12&15|224),t+=s(e,6)):0==(4292870144&e)&&(t=o(e>>18&7|240),t+=s(e,12),t+=s(e,6)),t+=o(63&e|128)}function l(){if(r>=n)throw Error("Invalid byte index");var e=255&t[r];if(r++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function u(){var e,o;if(r>n)throw Error("Invalid byte index");if(r==n)return!1;if(e=255&t[r],r++,0==(128&e))return e;if(192==(224&e)){if((o=(31&e)<<6|l())>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&e)){if((o=(15&e)<<12|l()<<6|l())>=2048)return a(o),o;throw Error("Invalid continuation byte")}if(240==(248&e)&&(o=(7&e)<<18|l()<<12|l()<<6|l())>=65536&&o<=1114111)return o;throw Error("Invalid UTF-8 detected")}e.version="3.0.0",e.encode=function(e){for(var t=i(e),n=t.length,r=-1,o="";++r<n;)o+=c(t[r]);return o},e.decode=function(e){t=i(e),n=t.length,r=0;for(var a,s=[];!1!==(a=u());)s.push(a);return function(e){for(var t,n=e.length,r=-1,i="";++r<n;)(t=e[r])>65535&&(i+=o((t-=65536)>>>10&1023|55296),t=56320|1023&t),i+=o(t);return i}(s)}}(t)},465:(e,t,n)=>{function r(e){if(!e.options.indentation&&!e.options.lineSeparator)return;let t;for(e.content+=e.options.lineSeparator,t=0;t<e.level;t++)e.content+=e.options.indentation}function o(e,t){e.content+=t}function i(e,t,n){if("string"==typeof e.content)!function(e,t,n){n||(e.content=e.content.trim());e.content.length>0&&(!n&&t.content.length>0&&r(t),o(t,e.content))}(e,t,n);else if("Element"===e.type)!function(e,t,n){!n&&t.content.length>0&&r(t);if(o(t,"<"+e.name),a(t,e.attributes),null===e.children){const e=t.options.whiteSpaceAtEndOfSelfclosingTag?" />":"/>";o(t,e)}else if(0===e.children.length)o(t,"></"+e.name+">");else{o(t,">"),t.level++;let a="preserve"===e.attributes["xml:space"];if(!a&&t.options.collapseContent){let t=!1,n=!1,r=!1;e.children.forEach((function(o,i){"Text"===o.type?(o.content.includes("\n")?(n=!0,o.content=o.content.trim()):0!==i&&i!==e.children.length-1||0===o.content.trim().length&&(o.content=""),o.content.length>0&&(t=!0)):"CDATA"===o.type?t=!0:r=!0})),!t||r&&n||(a=!0)}e.children.forEach((function(e){i(e,t,n||a,t.options)})),t.level--,n||a||r(t),o(t,"</"+e.name+">")}}(e,t,n);else{if("ProcessingInstruction"!==e.type)throw new Error("Unknown node type: "+e.type);s(e,t)}}function a(e,t){Object.keys(t).forEach((function(n){const r=t[n].replace(/"/g,"&quot;");o(e," "+n+'="'+r+'"')}))}function s(e,t){t.content.length>0&&r(t),o(t,"<?"+e.name),a(t,e.attributes),o(t,"?>")}e.exports=function(e,t={}){t.indentation="indentation"in t?t.indentation:"    ",t.collapseContent=!0===t.collapseContent,t.lineSeparator="lineSeparator"in t?t.lineSeparator:"\r\n",t.whiteSpaceAtEndOfSelfclosingTag=!!t.whiteSpaceAtEndOfSelfclosingTag;const r=n(121)(e,{filter:t.filter}),o={content:"",level:0,options:t};return r.declaration&&s(r.declaration,o),r.children.forEach((function(e){i(e,o,!1)})),o.content.replace(/\r\n/g,"\n").replace(/\n/g,t.lineSeparator)}},121:e=>{e.exports=function(e,t={}){function n(){return i()||function(){const e=c(/^([^<]+)/);if(e){const n={type:"Text",content:e[1]};return{excluded:!1===t.filter(n),node:n}}}()||a()||function(){if(e.startsWith("<![CDATA[")){const n=e.indexOf("]]>");if(n>-1){const r=n+3,o={type:"CDATA",content:e.substring(0,r)};return e=e.slice(r),{excluded:!1===t.filter(o),node:o}}}}()}function r(){return c(/\s*/),i(!0)||a()||function(){const e=c(/^<!DOCTYPE\s+[^>]*>/);if(e){const n={type:"DocumentType",content:e[0]};return{excluded:!1===t.filter(n),node:n}}}()||o(!1)}function o(e){const n=c(e?/^<\?(xml)\s*/:/^<\?([\w-:.]+)\s*/);if(!n)return;const r={name:n[1],type:"ProcessingInstruction",attributes:{}};for(;!l()&&!u("?>");){const e=s();if(!e)return r;r.attributes[e.name]=e.value}return c(/\?>/),{excluded:!e&&!1===t.filter(r),node:r}}function i(e){const r=c(/^<([\w-:.]+)\s*/);if(!r)return;const o={type:"Element",name:r[1],attributes:{},children:[]};for(;!(l()||u(">")||u("?>")||u("/>"));){const e=s();if(!e)return o;o.attributes[e.name]=e.value}const i=!e&&!1===t.filter(o);if(c(/^\s*\/>/))return o.children=null,{excluded:i,node:o};if(c(/\??>/),!i){let e=n();for(;e;)e.excluded||o.children.push(e.node),e=n()}return c(/^<\/[\w-:.]+>/),{excluded:i,node:o}}function a(){const e=c(/^<!--[\s\S]*?-->/);if(e){const n={type:"Comment",content:e[0]};return{excluded:!1===t.filter(n),node:n}}}function s(){const e=c(/([\w-:.]+)\s*=\s*("[^"]*"|'[^']*'|\w+)\s*/);var t;if(e)return{name:e[1],value:(t=e[2],t.replace(/^['"]|['"]$/g,""))}}function c(t){const n=e.match(t);if(n)return e=e.slice(n[0].length),n}function l(){return 0===e.length}function u(t){return 0===e.indexOf(t)}return t.filter=t.filter||(()=>!0),e=e.trim(),function(){const e=o(!0),t=[];let n,i=r();for(;i;){if("Element"===i.node.type){if(n)throw new Error("Found multiple root nodes");n=i.node}i.excluded||t.push(i.node),i=r()}if(!n)throw new Error("Failed to parse XML");return{declaration:e?e.node:null,root:n,children:t}}()}},390:e=>{var t={exports:{}};function n(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach((function(t){var r=e[t];"object"!=typeof r||Object.isFrozen(r)||n(r)})),e}t.exports=n,t.exports.default=n;class r{constructor(e){void 0===e.data&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function o(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function i(e,...t){const n=Object.create(null);for(const t in e)n[t]=e[t];return t.forEach((function(e){for(const t in e)n[t]=e[t]})),n}const a=e=>!!e.scope||e.sublanguage&&e.language;class s{constructor(e,t){this.buffer="",this.classPrefix=t.classPrefix,e.walk(this)}addText(e){this.buffer+=o(e)}openNode(e){if(!a(e))return;let t="";t=e.sublanguage?`language-${e.language}`:((e,{prefix:t})=>{if(e.includes(".")){const n=e.split(".");return[`${t}${n.shift()}`,...n.map(((e,t)=>`${e}${"_".repeat(t+1)}`))].join(" ")}return`${t}${e}`})(e.scope,{prefix:this.classPrefix}),this.span(t)}closeNode(e){a(e)&&(this.buffer+="</span>")}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}const c=(e={})=>{const t={children:[]};return Object.assign(t,e),t};class l{constructor(){this.rootNode=c(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const t=c({scope:e});this.add(t),this.stack.push(t)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,t){return"string"==typeof t?e.addText(t):t.children&&(e.openNode(t),t.children.forEach((t=>this._walk(e,t))),e.closeNode(t)),e}static _collapse(e){"string"!=typeof e&&e.children&&(e.children.every((e=>"string"==typeof e))?e.children=[e.children.join("")]:e.children.forEach((e=>{l._collapse(e)})))}}class u extends l{constructor(e){super(),this.options=e}addKeyword(e,t){""!==e&&(this.openNode(t),this.addText(e),this.closeNode())}addText(e){""!==e&&this.add(e)}addSublanguage(e,t){const n=e.root;n.sublanguage=!0,n.language=t,this.add(n)}toHTML(){return new s(this,this.options).value()}finalize(){return!0}}function h(e){return e?"string"==typeof e?e:e.source:null}function d(e){return g("(?=",e,")")}function p(e){return g("(?:",e,")*")}function f(e){return g("(?:",e,")?")}function g(...e){return e.map((e=>h(e))).join("")}function m(...e){const t=function(e){const t=e[e.length-1];return"object"==typeof t&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}(e);return"("+(t.capture?"":"?:")+e.map((e=>h(e))).join("|")+")"}function b(e){return new RegExp(e.toString()+"|").exec("").length-1}const y=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function v(e,{joinWith:t}){let n=0;return e.map((e=>{n+=1;const t=n;let r=h(e),o="";for(;r.length>0;){const e=y.exec(r);if(!e){o+=r;break}o+=r.substring(0,e.index),r=r.substring(e.index+e[0].length),"\\"===e[0][0]&&e[1]?o+="\\"+String(Number(e[1])+t):(o+=e[0],"("===e[0]&&n++)}return o})).map((e=>`(${e})`)).join(t)}const x="[a-zA-Z]\\w*",w="[a-zA-Z_]\\w*",E="\\b\\d+(\\.\\d+)?",A="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",S="\\b(0b[01]+)",O={begin:"\\\\[\\s\\S]",relevance:0},N={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[O]},T={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[O]},j=function(e,t,n={}){const r=i({scope:"comment",begin:e,end:t,contains:[]},n);r.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const o=m("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return r.contains.push({begin:g(/[ ]+/,"(",o,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),r},k=j("//","$"),M=j("/\\*","\\*/"),P=j("#","$"),I={scope:"number",begin:E,relevance:0},_={scope:"number",begin:A,relevance:0},C={scope:"number",begin:S,relevance:0},R={begin:/(?=\/[^/\n]*\/)/,contains:[{scope:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[O,{begin:/\[/,end:/\]/,relevance:0,contains:[O]}]}]},L={scope:"title",begin:x,relevance:0},B={scope:"title",begin:w,relevance:0},U={begin:"\\.\\s*[a-zA-Z_]\\w*",relevance:0};var $=Object.freeze({__proto__:null,MATCH_NOTHING_RE:/\b\B/,IDENT_RE:x,UNDERSCORE_IDENT_RE:w,NUMBER_RE:E,C_NUMBER_RE:A,BINARY_NUMBER_RE:S,RE_STARTERS_RE:"!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG:(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=g(t,/.*\b/,e.binary,/\b.*/)),i({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(e,t)=>{0!==e.index&&t.ignoreMatch()}},e)},BACKSLASH_ESCAPE:O,APOS_STRING_MODE:N,QUOTE_STRING_MODE:T,PHRASAL_WORDS_MODE:{begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},COMMENT:j,C_LINE_COMMENT_MODE:k,C_BLOCK_COMMENT_MODE:M,HASH_COMMENT_MODE:P,NUMBER_MODE:I,C_NUMBER_MODE:_,BINARY_NUMBER_MODE:C,REGEXP_MODE:R,TITLE_MODE:L,UNDERSCORE_TITLE_MODE:B,METHOD_GUARD:U,END_SAME_AS_BEGIN:function(e){return Object.assign(e,{"on:begin":(e,t)=>{t.data._beginMatch=e[1]},"on:end":(e,t)=>{t.data._beginMatch!==e[1]&&t.ignoreMatch()}})}});function D(e,t){"."===e.input[e.index-1]&&t.ignoreMatch()}function H(e,t){void 0!==e.className&&(e.scope=e.className,delete e.className)}function z(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=D,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,void 0===e.relevance&&(e.relevance=0))}function F(e,t){Array.isArray(e.illegal)&&(e.illegal=m(...e.illegal))}function q(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function K(e,t){void 0===e.relevance&&(e.relevance=1)}const W=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},e);Object.keys(e).forEach((t=>{delete e[t]})),e.keywords=n.keywords,e.begin=g(n.beforeMatch,d(n.begin)),e.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},e.relevance=0,delete n.beforeMatch},X=["of","and","for","in","not","or","if","then","parent","list","value"];function G(e,t,n="keyword"){const r=Object.create(null);return"string"==typeof e?o(n,e.split(" ")):Array.isArray(e)?o(n,e):Object.keys(e).forEach((function(n){Object.assign(r,G(e[n],t,n))})),r;function o(e,n){t&&(n=n.map((e=>e.toLowerCase()))),n.forEach((function(t){const n=t.split("|");r[n[0]]=[e,V(n[0],n[1])]}))}}function V(e,t){return t?Number(t):function(e){return X.includes(e.toLowerCase())}(e)?0:1}const Z={},J=e=>{console.error(e)},Q=(e,...t)=>{console.log(`WARN: ${e}`,...t)},Y=(e,t)=>{Z[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),Z[`${e}/${t}`]=!0)},ee=new Error;function te(e,t,{key:n}){let r=0;const o=e[n],i={},a={};for(let e=1;e<=t.length;e++)a[e+r]=o[e],i[e+r]=!0,r+=b(t[e-1]);e[n]=a,e[n]._emit=i,e[n]._multi=!0}function ne(e){!function(e){e.scope&&"object"==typeof e.scope&&null!==e.scope&&(e.beginScope=e.scope,delete e.scope)}(e),"string"==typeof e.beginScope&&(e.beginScope={_wrap:e.beginScope}),"string"==typeof e.endScope&&(e.endScope={_wrap:e.endScope}),function(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw J("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),ee;if("object"!=typeof e.beginScope||null===e.beginScope)throw J("beginScope must be object"),ee;te(e,e.begin,{key:"beginScope"}),e.begin=v(e.begin,{joinWith:""})}}(e),function(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw J("skip, excludeEnd, returnEnd not compatible with endScope: {}"),ee;if("object"!=typeof e.endScope||null===e.endScope)throw J("endScope must be object"),ee;te(e,e.end,{key:"endScope"}),e.end=v(e.end,{joinWith:""})}}(e)}function re(e){function t(t,n){return new RegExp(h(t),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(n?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(e,t){t.position=this.position++,this.matchIndexes[this.matchAt]=t,this.regexes.push([t,e]),this.matchAt+=b(e)+1}compile(){0===this.regexes.length&&(this.exec=()=>null);const e=this.regexes.map((e=>e[1]));this.matcherRe=t(v(e,{joinWith:"|"}),!0),this.lastIndex=0}exec(e){this.matcherRe.lastIndex=this.lastIndex;const t=this.matcherRe.exec(e);if(!t)return null;const n=t.findIndex(((e,t)=>t>0&&void 0!==e)),r=this.matchIndexes[n];return t.splice(0,n),Object.assign(t,r)}}class r{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(e){if(this.multiRegexes[e])return this.multiRegexes[e];const t=new n;return this.rules.slice(e).forEach((([e,n])=>t.addRule(e,n))),t.compile(),this.multiRegexes[e]=t,t}resumingScanAtSamePosition(){return 0!==this.regexIndex}considerAll(){this.regexIndex=0}addRule(e,t){this.rules.push([e,t]),"begin"===t.type&&this.count++}exec(e){const t=this.getMatcher(this.regexIndex);t.lastIndex=this.lastIndex;let n=t.exec(e);if(this.resumingScanAtSamePosition())if(n&&n.index===this.lastIndex);else{const t=this.getMatcher(0);t.lastIndex=this.lastIndex+1,n=t.exec(e)}return n&&(this.regexIndex+=n.position+1,this.regexIndex===this.count&&this.considerAll()),n}}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=i(e.classNameAliases||{}),function n(o,a){const s=o;if(o.isCompiled)return s;[H,q,ne,W].forEach((e=>e(o,a))),e.compilerExtensions.forEach((e=>e(o,a))),o.__beforeBegin=null,[z,F,K].forEach((e=>e(o,a))),o.isCompiled=!0;let c=null;return"object"==typeof o.keywords&&o.keywords.$pattern&&(o.keywords=Object.assign({},o.keywords),c=o.keywords.$pattern,delete o.keywords.$pattern),c=c||/\w+/,o.keywords&&(o.keywords=G(o.keywords,e.case_insensitive)),s.keywordPatternRe=t(c,!0),a&&(o.begin||(o.begin=/\B|\b/),s.beginRe=t(s.begin),o.end||o.endsWithParent||(o.end=/\B|\b/),o.end&&(s.endRe=t(s.end)),s.terminatorEnd=h(s.end)||"",o.endsWithParent&&a.terminatorEnd&&(s.terminatorEnd+=(o.end?"|":"")+a.terminatorEnd)),o.illegal&&(s.illegalRe=t(o.illegal)),o.contains||(o.contains=[]),o.contains=[].concat(...o.contains.map((function(e){return function(e){e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map((function(t){return i(e,{variants:null},t)})));if(e.cachedVariants)return e.cachedVariants;if(oe(e))return i(e,{starts:e.starts?i(e.starts):null});if(Object.isFrozen(e))return i(e);return e}("self"===e?o:e)}))),o.contains.forEach((function(e){n(e,s)})),o.starts&&n(o.starts,a),s.matcher=function(e){const t=new r;return e.contains.forEach((e=>t.addRule(e.begin,{rule:e,type:"begin"}))),e.terminatorEnd&&t.addRule(e.terminatorEnd,{type:"end"}),e.illegal&&t.addRule(e.illegal,{type:"illegal"}),t}(s),s}(e)}function oe(e){return!!e&&(e.endsWithParent||oe(e.starts))}class ie extends Error{constructor(e,t){super(e),this.name="HTMLInjectionError",this.html=t}}const ae=o,se=i,ce=Symbol("nomatch");var le=function(e){const n=Object.create(null),o=Object.create(null),i=[];let a=!0;const s="Could not find the language '{}', did you forget to load/include a language module?",c={disableAutodetect:!0,name:"Plain text",contains:[]};let l={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:u};function h(e){return l.noHighlightRe.test(e)}function b(e,t,n){let r="",o="";"object"==typeof t?(r=e,n=t.ignoreIllegals,o=t.language):(Y("10.7.0","highlight(lang, code, ...args) has been deprecated."),Y("10.7.0","Please use highlight(code, options) instead.\nhttps://github.com/highlightjs/highlight.js/issues/2277"),o=e,r=t),void 0===n&&(n=!0);const i={code:r,language:o};N("before:highlight",i);const a=i.result?i.result:y(i.language,i.code,n);return a.code=i.code,N("after:highlight",a),a}function y(e,t,o,i){const c=Object.create(null);function u(){if(!O.keywords)return void T.addText(j);let e=0;O.keywordPatternRe.lastIndex=0;let t=O.keywordPatternRe.exec(j),n="";for(;t;){n+=j.substring(e,t.index);const o=w.case_insensitive?t[0].toLowerCase():t[0],i=(r=o,O.keywords[r]);if(i){const[e,r]=i;if(T.addText(n),n="",c[o]=(c[o]||0)+1,c[o]<=7&&(k+=r),e.startsWith("_"))n+=t[0];else{const n=w.classNameAliases[e]||e;T.addKeyword(t[0],n)}}else n+=t[0];e=O.keywordPatternRe.lastIndex,t=O.keywordPatternRe.exec(j)}var r;n+=j.substring(e),T.addText(n)}function h(){null!=O.subLanguage?function(){if(""===j)return;let e=null;if("string"==typeof O.subLanguage){if(!n[O.subLanguage])return void T.addText(j);e=y(O.subLanguage,j,!0,N[O.subLanguage]),N[O.subLanguage]=e._top}else e=v(j,O.subLanguage.length?O.subLanguage:null);O.relevance>0&&(k+=e.relevance),T.addSublanguage(e._emitter,e.language)}():u(),j=""}function d(e,t){let n=1;const r=t.length-1;for(;n<=r;){if(!e._emit[n]){n++;continue}const r=w.classNameAliases[e[n]]||e[n],o=t[n];r?T.addKeyword(o,r):(j=o,u(),j=""),n++}}function p(e,t){return e.scope&&"string"==typeof e.scope&&T.openNode(w.classNameAliases[e.scope]||e.scope),e.beginScope&&(e.beginScope._wrap?(T.addKeyword(j,w.classNameAliases[e.beginScope._wrap]||e.beginScope._wrap),j=""):e.beginScope._multi&&(d(e.beginScope,t),j="")),O=Object.create(e,{parent:{value:O}}),O}function f(e,t,n){let o=function(e,t){const n=e&&e.exec(t);return n&&0===n.index}(e.endRe,n);if(o){if(e["on:end"]){const n=new r(e);e["on:end"](t,n),n.isMatchIgnored&&(o=!1)}if(o){for(;e.endsParent&&e.parent;)e=e.parent;return e}}if(e.endsWithParent)return f(e.parent,t,n)}function g(e){return 0===O.matcher.regexIndex?(j+=e[0],1):(I=!0,0)}function m(e){const n=e[0],r=t.substring(e.index),o=f(O,e,r);if(!o)return ce;const i=O;O.endScope&&O.endScope._wrap?(h(),T.addKeyword(n,O.endScope._wrap)):O.endScope&&O.endScope._multi?(h(),d(O.endScope,e)):i.skip?j+=n:(i.returnEnd||i.excludeEnd||(j+=n),h(),i.excludeEnd&&(j=n));do{O.scope&&T.closeNode(),O.skip||O.subLanguage||(k+=O.relevance),O=O.parent}while(O!==o.parent);return o.starts&&p(o.starts,e),i.returnEnd?0:n.length}let b={};function x(n,i){const s=i&&i[0];if(j+=n,null==s)return h(),0;if("begin"===b.type&&"end"===i.type&&b.index===i.index&&""===s){if(j+=t.slice(i.index,i.index+1),!a){const t=new Error(`0 width match regex (${e})`);throw t.languageName=e,t.badRule=b.rule,t}return 1}if(b=i,"begin"===i.type)return function(e){const t=e[0],n=e.rule,o=new r(n),i=[n.__beforeBegin,n["on:begin"]];for(const n of i)if(n&&(n(e,o),o.isMatchIgnored))return g(t);return n.skip?j+=t:(n.excludeBegin&&(j+=t),h(),n.returnBegin||n.excludeBegin||(j=t)),p(n,e),n.returnBegin?0:t.length}(i);if("illegal"===i.type&&!o){const e=new Error('Illegal lexeme "'+s+'" for mode "'+(O.scope||"<unnamed>")+'"');throw e.mode=O,e}if("end"===i.type){const e=m(i);if(e!==ce)return e}if("illegal"===i.type&&""===s)return 1;if(P>1e5&&P>3*i.index){throw new Error("potential infinite loop, way more iterations than matches")}return j+=s,s.length}const w=A(e);if(!w)throw J(s.replace("{}",e)),new Error('Unknown language: "'+e+'"');const E=re(w);let S="",O=i||E;const N={},T=new l.__emitter(l);!function(){const e=[];for(let t=O;t!==w;t=t.parent)t.scope&&e.unshift(t.scope);e.forEach((e=>T.openNode(e)))}();let j="",k=0,M=0,P=0,I=!1;try{for(O.matcher.considerAll();;){P++,I?I=!1:O.matcher.considerAll(),O.matcher.lastIndex=M;const e=O.matcher.exec(t);if(!e)break;const n=x(t.substring(M,e.index),e);M=e.index+n}return x(t.substring(M)),T.closeAllNodes(),T.finalize(),S=T.toHTML(),{language:e,value:S,relevance:k,illegal:!1,_emitter:T,_top:O}}catch(n){if(n.message&&n.message.includes("Illegal"))return{language:e,value:ae(t),illegal:!0,relevance:0,_illegalBy:{message:n.message,index:M,context:t.slice(M-100,M+100),mode:n.mode,resultSoFar:S},_emitter:T};if(a)return{language:e,value:ae(t),illegal:!1,relevance:0,errorRaised:n,_emitter:T,_top:O};throw n}}function v(e,t){t=t||l.languages||Object.keys(n);const r=function(e){const t={value:ae(e),illegal:!1,relevance:0,_top:c,_emitter:new l.__emitter(l)};return t._emitter.addText(e),t}(e),o=t.filter(A).filter(O).map((t=>y(t,e,!1)));o.unshift(r);const i=o.sort(((e,t)=>{if(e.relevance!==t.relevance)return t.relevance-e.relevance;if(e.language&&t.language){if(A(e.language).supersetOf===t.language)return 1;if(A(t.language).supersetOf===e.language)return-1}return 0})),[a,s]=i,u=a;return u.secondBest=s,u}function x(e){let t=null;const n=function(e){let t=e.className+" ";t+=e.parentNode?e.parentNode.className:"";const n=l.languageDetectRe.exec(t);if(n){const t=A(n[1]);return t||(Q(s.replace("{}",n[1])),Q("Falling back to no-highlight mode for this block.",e)),t?n[1]:"no-highlight"}return t.split(/\s+/).find((e=>h(e)||A(e)))}(e);if(h(n))return;if(N("before:highlightElement",{el:e,language:n}),e.children.length>0&&(l.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(e)),l.throwUnescapedHTML)){throw new ie("One of your code blocks includes unescaped HTML.",e.innerHTML)}t=e;const r=t.textContent,i=n?b(r,{language:n,ignoreIllegals:!0}):v(r);e.innerHTML=i.value,function(e,t,n){const r=t&&o[t]||n;e.classList.add("hljs"),e.classList.add(`language-${r}`)}(e,n,i.language),e.result={language:i.language,re:i.relevance,relevance:i.relevance},i.secondBest&&(e.secondBest={language:i.secondBest.language,relevance:i.secondBest.relevance}),N("after:highlightElement",{el:e,result:i,text:r})}let w=!1;function E(){if("loading"===document.readyState)return void(w=!0);document.querySelectorAll(l.cssSelector).forEach(x)}function A(e){return e=(e||"").toLowerCase(),n[e]||n[o[e]]}function S(e,{languageName:t}){"string"==typeof e&&(e=[e]),e.forEach((e=>{o[e.toLowerCase()]=t}))}function O(e){const t=A(e);return t&&!t.disableAutodetect}function N(e,t){const n=e;i.forEach((function(e){e[n]&&e[n](t)}))}"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("DOMContentLoaded",(function(){w&&E()}),!1),Object.assign(e,{highlight:b,highlightAuto:v,highlightAll:E,highlightElement:x,highlightBlock:function(e){return Y("10.7.0","highlightBlock will be removed entirely in v12.0"),Y("10.7.0","Please use highlightElement now."),x(e)},configure:function(e){l=se(l,e)},initHighlighting:()=>{E(),Y("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")},initHighlightingOnLoad:function(){E(),Y("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")},registerLanguage:function(t,r){let o=null;try{o=r(e)}catch(e){if(J("Language definition for '{}' could not be registered.".replace("{}",t)),!a)throw e;J(e),o=c}o.name||(o.name=t),n[t]=o,o.rawDefinition=r.bind(null,e),o.aliases&&S(o.aliases,{languageName:t})},unregisterLanguage:function(e){delete n[e];for(const t of Object.keys(o))o[t]===e&&delete o[t]},listLanguages:function(){return Object.keys(n)},getLanguage:A,registerAliases:S,autoDetection:O,inherit:se,addPlugin:function(e){!function(e){e["before:highlightBlock"]&&!e["before:highlightElement"]&&(e["before:highlightElement"]=t=>{e["before:highlightBlock"](Object.assign({block:t.el},t))}),e["after:highlightBlock"]&&!e["after:highlightElement"]&&(e["after:highlightElement"]=t=>{e["after:highlightBlock"](Object.assign({block:t.el},t))})}(e),i.push(e)}}),e.debugMode=function(){a=!1},e.safeMode=function(){a=!0},e.versionString="11.6.0",e.regex={concat:g,lookahead:d,either:m,optional:f,anyNumberOfTimes:p};for(const e in $)"object"==typeof $[e]&&t.exports($[e]);return Object.assign(e,$),e}({});e.exports=le,le.HighlightJS=le,le.default=le}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";function e(...e){return e.reduce(((e,t)=>(...n)=>e(t(...n))))}function t(e,t){return typeof e===t}function r(e){return t(e,"function")}function o(e){return!function(e){return null==e}(e)&&e.constructor===Object}const i=new Map,a=Symbol("riot-component"),s=new Set,c="mount",l="update",u="unmount",h="shouldUpdate",d="onBeforeMount",p="onMounted",f="onBeforeUpdate",g="onUpdated",m="onBeforeUnmount",b="onUnmounted",y="props",v="state",x="slots",w="root",E=Symbol("pure"),A=Symbol("is_updating"),S=Symbol("parent"),O=Symbol("attributes"),N=Symbol("template");function T(e){return e.replace(/-(\w)/g,((e,t)=>t.toUpperCase()))}function j(){return this}function k(e){return r(e)?e.prototype&&e.prototype.constructor?new e:e():e}function M(e){throw new Error(e)}function P(e){return e.reduce(((e,t)=>{const{value:n,type:r}=t;switch(!0){case!t.name&&0===r:return{...e,...n};case 3===r:e.value=t.value;break;default:e[T(t.name)]=t.value}return e}),{})}function I(e,t,n,r={}){return Object.defineProperty(e,t,{value:n,enumerable:!1,writable:!1,configurable:!0,...r}),e}function _(e,t,n){return Object.entries(t).forEach((([t,r])=>{I(e,t,r,n)})),e}function C(e,t){return Object.entries(t).forEach((([t,n])=>{e[t]||(e[t]=n)})),e}const R=Object.freeze({[c]:j,[l]:j,[u]:j}),L=Object.assign({},R,{clone:j,createDOM:j});function B(e){for(;e.firstChild;)e.removeChild(e.firstChild)}const U=e=>e&&e.parentNode&&e.parentNode.removeChild(e),$=(e,t)=>t&&t.parentNode&&t.parentNode.insertBefore(e,t),D=(new Map,Symbol("riot-component"),new Set,Symbol("pure")),H=(Symbol("is_updating"),Symbol("parent")),z=(Symbol("attributes"),Symbol("template"),{EACH:0,IF:1,SIMPLE:2,TAG:3,SLOT:4}),F={ATTRIBUTE:0,EVENT:1,TEXT:2,VALUE:3};function q(e,t,n,r={}){return Object.defineProperty(e,t,{value:n,enumerable:!1,writable:!1,configurable:!0,...r}),e}function K(e,t){return typeof e===t}function W(e){const t=e.ownerSVGElement;return!!t||null===t}function X(e){return"template"===e.tagName.toLowerCase()}function G(e){return null==e}const V=Symbol(),Z=Symbol();function J(e){const t=e.dom.cloneNode(!0),{head:n,tail:r}=function(){const e=document.createTextNode(""),t=document.createTextNode("");return e[V]=!0,t[Z]=!0,{head:e,tail:t}}();return{avoidDOMInjection:!0,fragment:t,head:n,tail:r,children:[n,...Array.from(t.childNodes),r]}}const Q=Symbol("unmount"),Y={nodes:[],mount(e,t){return this.update(e,t)},update(e,t){const{placeholder:n,nodes:r,childrenMap:o}=this,i=e===Q?null:this.evaluate(e),a=i?Array.from(i):[],{newChildrenMap:s,batches:c,futureNodes:l}=function(e,t,n,r){const{condition:o,template:i,childrenMap:a,itemName:s,getKey:c,indexName:l,root:u,isTemplateTag:h}=r,d=new Map,p=[],f=[];return e.forEach(((e,r)=>{const g=function(e,{itemName:t,indexName:n,index:r,item:o}){q(e,t,o),n&&q(e,n,r);return e}(Object.create(t),{itemName:s,indexName:l,index:r,item:e}),m=c?c(g):r,b=a.get(m),y=[];if(function(e,t){return!!e&&!e(t)}(o,g))return;const v=!b,x=b?b.template:i.clone(),w=x.el||u.cloneNode(),E=h&&v?J(x):x.meta;v?p.push((()=>x.mount(w,g,n,E))):p.push((()=>x.update(g,n))),h?y.push(...E.children):y.push(w),a.delete(m),f.push(...y),d.set(m,{nodes:y,template:x,context:g,index:r})})),{newChildrenMap:d,batches:p,futureNodes:f}}(a,e,t,this);return((e,t,n,r)=>{const o=t.length;let i=e.length,a=o,s=0,c=0,l=null;for(;s<i||c<a;)if(i===s){const e=a<o?c?n(t[c-1],-0).nextSibling:n(t[a-c],0):r;for(;c<a;)$(n(t[c++],1),e)}else if(a===c)for(;s<i;)l&&l.has(e[s])||U(n(e[s],-1)),s++;else if(e[s]===t[c])s++,c++;else if(e[i-1]===t[a-1])i--,a--;else if(e[s]===t[a-1]&&t[c]===e[i-1]){const r=n(e[--i],-1).nextSibling;$(n(t[c++],1),n(e[s++],-1).nextSibling),$(n(t[--a],1),r),e[i]=t[a]}else{if(!l){l=new Map;let e=c;for(;e<a;)l.set(t[e],e++)}if(l.has(e[s])){const r=l.get(e[s]);if(c<r&&r<a){let o=s,d=1;for(;++o<i&&o<a&&l.get(e[o])===r+d;)d++;if(d>r-c){const o=n(e[s],0);for(;c<r;)$(n(t[c++],1),o)}else u=n(t[c++],1),(h=n(e[s++],-1))&&h.parentNode&&h.parentNode.replaceChild(u,h)}else s++}else U(n(e[s++],-1))}var u,h})(r,l,function(e,t){return(n,r)=>{if(r<0){const n=e[e.length-1];if(n){const{template:r,nodes:o,context:i}=n;o.pop(),o.length||(e.pop(),r.unmount(i,t,null))}}return n}}(Array.from(o.values()),t),n),c.forEach((e=>e())),this.childrenMap=s,this.nodes=l,this},unmount(e,t){return this.update(Q,t),this}};const ee={mount(e,t){return this.update(e,t)},update(e,t){const n=!!this.evaluate(e),r=!this.value&&n,o=this.value&&!n,i=()=>{const n=this.node.cloneNode();$(n,this.placeholder),this.template=this.template.clone(),this.template.mount(n,e,t)};switch(!0){case r:i();break;case o:this.unmount(e);break;default:n&&this.template.update(e,t)}return this.value=n,this},unmount(e,t){return this.template.unmount(e,t,!0),this}};const te="undefined"==typeof Element?{}:Element.prototype,ne=function(e){const t=new Map,n=n=>(t.has(n)||t.set(n,e.call(this,n)))&&t.get(n);return n.cache=t,n}((e=>te.hasOwnProperty(e)));function re(e,{name:t},n,r){if(!t)return r&&function(e,t,n){const r=t?Object.keys(t):[];Object.keys(n).filter((e=>!r.includes(e))).forEach((t=>e.removeAttribute(t)))}(e,n,r),void(n&&function(e,t){Object.entries(t).forEach((([t,n])=>re(e,{name:t},n)))}(e,n));!ne(t)&&(function(e){return K(e,"boolean")}(n)||function(e){return!G(e)&&e.constructor===Object}(n)||function(e){return K(e,"function")}(n))&&(e[t]=n),!function(e){return!e&&0!==e}(n)?function(e){return!0===e||["string","number"].includes(typeof e)}(n)&&e.setAttribute(t,function(e,t){return!0===t?e:t}(t,n)):e.removeAttribute(t)}const oe=/^on/,ie={handleEvent(e){this[e.type](e)}},ae=new WeakMap;function se(e){return G(e)?"":e}const ce=(e,t)=>{const n=e.childNodes[t];if(n.nodeType===Node.COMMENT_NODE){const t=document.createTextNode("");return e.replaceChild(t,n),t}return n};const le={0:re,1:function(e,{name:t},n){const r=t.replace(oe,""),o=ae.get(e)||(e=>{const t=Object.create(ie);return ae.set(e,t),t})(e),[i,a]=(e=>Array.isArray(e)?e:[e,!1])(n),s=o[r],c=i&&!s;s&&!i&&e.removeEventListener(r,o),c&&e.addEventListener(r,o,a),o[r]=i},2:function(e,t,n){e.data=se(n)},3:function(e,t,n){e.value=se(n)}},ue={mount(e){return this.value=this.evaluate(e),he(this,this.value),this},update(e){const t=this.evaluate(e);return this.value!==t&&(he(this,t),this.value=t),this},unmount(){return 1===this.type&&he(this,null),this}};function he(e,t){return le[e.type](e.node,e,t,e.value)}function de(e,t){return{...ue,...t,node:2===t.type?ce(e,t.childNodeIndex):e}}const pe=(e,t)=>e[H]||t,fe={attributes:[],getTemplateScope(e,t){return function(e,t,n){if(!e||!e.length)return n;const r=e.map((e=>({...e,value:e.evaluate(t)})));return Object.assign(Object.create(n||null),function(e){return e.reduce(((e,t)=>{const{value:n,type:r}=t;switch(!0){case!t.name&&0===r:return{...e,...n};case 3===r:e.value=t.value;break;default:e[(o=t.name,o.replace(/-(\w)/g,((e,t)=>t.toUpperCase())))]=t.value}var o;return e}),{})}(r))}(this.attributes,e,t)},mount(e,t){const n=!!e.slots&&e.slots.find((({id:e})=>e===this.name)),{parentNode:r}=this.node,o=pe(e,t);return this.template=n&&Ee(n.html,n.bindings).createDOM(r),this.template&&(B(this.node),this.template.mount(this.node,this.getTemplateScope(e,o),o),this.template.children=Array.from(this.node.childNodes)),ge(this.node),U(this.node),this},update(e,t){if(this.template){const n=pe(e,t);this.template.update(this.getTemplateScope(e,n),n)}return this},unmount(e,t,n){return this.template&&this.template.unmount(this.getTemplateScope(e,t),null,n),this}};function ge(e){const t=e&&e.firstChild;t&&($(t,e),ge(e))}function me(e){return e.reduce(((e,{bindings:t})=>e.concat(t)),[])}const be={mount(e){return this.update(e)},update(e,t){const n=this.evaluate(e);return n&&n===this.name?this.tag.update(e):(this.unmount(e,t,!0),this.name=n,this.tag=function(e,t=[],n=[]){return e?e({slots:t,attributes:n}):Ee(function(e){return e.reduce(((e,t)=>e+t.html),"")}(t),[...me(t),{expressions:n.map((e=>({type:0,...e})))}])}(this.getComponent(n),this.slots,this.attributes),this.tag.mount(this.node,e)),this},unmount(e,t,n){return this.tag&&this.tag.unmount(n),this}};const ye={1:function(e,{evaluate:t,template:n}){const r=document.createTextNode("");return $(r,e),U(e),{...ee,node:e,evaluate:t,placeholder:r,template:n.createDOM(e)}},2:function(e,{expressions:t}){return{...(n=t.map((t=>de(e,t))),r=["mount","update","unmount"],r.reduce(((e,t)=>({...e,[t]:e=>n.map((n=>n[t](e)))&&o})),{}))};var n,r,o},0:function(e,{evaluate:t,condition:n,itemName:r,indexName:o,getKey:i,template:a}){const s=document.createTextNode(""),c=e.cloneNode();return $(s,e),U(e),{...Y,childrenMap:new Map,node:e,root:c,condition:n,evaluate:t,isTemplateTag:X(c),template:a.createDOM(e),getKey:i,indexName:o,itemName:r,placeholder:s}},3:function(e,{evaluate:t,getComponent:n,slots:r,attributes:o}){return{...be,node:e,evaluate:t,slots:r,attributes:o,getComponent:n}},4:function(e,{name:t,attributes:n}){return{...fe,attributes:n,node:e,name:t}}};function ve(e,t){return e.map((e=>2===e.type?{...e,childNodeIndex:e.childNodeIndex+t}:e))}function xe(e,t){return W(e)?function(e,t){return t.ownerDocument.importNode((new window.DOMParser).parseFromString(`<svg xmlns="http://www.w3.org/2000/svg">${e}</svg>`,"application/xml").documentElement,!0)}(t,e):function(e,t){const n=X(t)?t:document.createElement("template");return n.innerHTML=e,n.content}(t,e)}const we={createDOM(e){return this.dom=this.dom||function(e,t){return t&&("string"==typeof t?xe(e,t):t)}(e,this.html)||document.createDocumentFragment(),this},mount(e,t,n,r={}){e||function(e){throw new Error(e)}("Please provide DOM node to mount properly your template"),this.el&&this.unmount(t);const{fragment:o,children:i,avoidDOMInjection:a}=r,{parentNode:s}=i?i[0]:e,c=X(e),l=c?function(e,t,n){const r=Array.from(e.childNodes);return Math.max(r.indexOf(t),r.indexOf(n.head)+1,0)}(s,e,r):null;this.createDOM(e);const u=o||this.dom.cloneNode(!0);return this.el=c?s:e,this.children=c?i||Array.from(u.childNodes):null,!a&&u&&function(e,t){switch(!0){case W(e):n=t,e.replaceChildren(...n.childNodes);break;case X(e):e.parentNode.replaceChild(t,e);break;default:e.appendChild(t)}var n}(e,u),this.bindings=this.bindingsData.map((e=>function(e,t,n){const{selector:r,type:o,redundantAttribute:i,expressions:a}=t,s=r?e.querySelector(r):e;i&&s.removeAttribute(i);const c=a||[];return(ye[o]||ye[2])(s,{...t,expressions:n&&!r?ve(c,n):c})}(this.el,e,l))),this.bindings.forEach((e=>e.mount(t,n))),this.meta=r,this},update(e,t){return this.bindings.forEach((n=>n.update(e,t))),this},unmount(e,t,n=!1){const r=this.el;if(!r)return this;switch(this.bindings.forEach((r=>r.unmount(e,t,n))),!0){case r[D]||null===n:break;case Array.isArray(this.children):!function(e){for(let t=0;t<e.length;t++)U(e[t])}(this.children);break;case!n:B(r);break;case!!n:U(r)}return this.el=null,this},clone(){return{...this,meta:{},el:null}}};function Ee(e,t=[]){return{...we,html:e,bindingsData:t}}function Ae(e,t){const n=function(e){return void 0===e&&(e={}),Object.entries(k(e)).reduce(((e,t)=>{let[n,r]=t;var o;return e[(o=n,o.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())]=qe(r),e}),{})}(t.exports?t.exports.components:{});return e(Ee,F,z,(e=>e===t.name?Ke(t):n[e]||i.get(e)))}const Se=(e,t)=>e[a]=t;function Oe(e){return[c,l,u].reduce(((t,n)=>(t[n]=e(n),t)),{})}function Ne(e){return Array.isArray(e)?e:/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(e))&&"number"==typeof e.length?Array.from(e):[e]}function Te(e,t){return Ne("string"==typeof e?(t||document).querySelectorAll(e):e)}const je=Object.freeze({$(e){return Te(e,this.root)[0]},$$(e){return Te(e,this.root)}}),ke=Object.freeze({[h]:j,[d]:j,[p]:j,[f]:j,[g]:j,[m]:j,[b]:j}),Me=e=>1===e.length?e[0]:e;function Pe(e,t,n){const r="string"==typeof t?[t]:t;return Me(Ne(e).map((e=>Me(r.map((t=>e[n](t)))))))}function Ie(e,t,n){const r="object"==typeof t?t:{[t]:n},o=Object.keys(r);return Ne(e).forEach((e=>{o.forEach((t=>e.setAttribute(t,r[t])))})),e}function _e(e,t){return Pe(e,t,"getAttribute")}const Ce=new Map,Re=()=>Le||(Ie(Le=Te("style[riot]")[0]||document.createElement("style"),"type","text/css"),Le.parentNode||document.head.appendChild(Le),Le);var Le;const Be={CSS_BY_NAME:Ce,add(e,t){return Ce.has(e)||(Ce.set(e,t),this.inject()),this},inject(){return Re().innerHTML=[...Ce.values()].join("\n"),this},remove(e){return Ce.has(e)&&(Ce.delete(e),this.inject()),this}};function Ue(e,...t){return(...n)=>(n=[...t,...n]).length<e.length?Ue(e,...n):e(...n)}function $e(e,t){(function(e){return _e(e,"is")||e.tagName.toLowerCase()})(e)!==t&&Ie(e,"is",t)}function De(e,t){return Object.assign({},e,k(t))}function He(e,t){return void 0===t&&(t={}),Object.assign({},function(e){return Array.from(e.attributes).reduce(((e,t)=>(e[T(t.name)]=t.value,e)),{})}(e),k(t))}function ze(e,t){let{slots:n,attributes:i,props:a}=t;return c=function(e){return[...s].reduce(((e,t)=>t(e)||e),e)}(_(o(e)?Object.create(e):e,{mount(t,r,o){return void 0===r&&(r={}),I(t,E,!1),this[S]=o,this[O]=function(e,t){void 0===t&&(t=[]);const n=t.map((t=>de(e,t))),r={};return Object.assign(r,Object.assign({expressions:n},Oe((e=>t=>(n.forEach((n=>n[e](t))),r)))))}(t,i).mount(o),I(this,y,Object.freeze(Object.assign({},He(t,a),P(this[O].expressions)))),this.state=De(this.state,r),this[N]=this.template.createDOM(t).clone(),Se(t,this),e.name&&$e(t,e.name),I(this,w,t),I(this,x,n),this.onBeforeMount(this.props,this.state),this[N].mount(t,this,o),this.onMounted(this.props,this.state),this},update(e,t){void 0===e&&(e={}),t&&(this[S]=t,this[O].update(t));const n=P(this[O].expressions);if(!1!==this.shouldUpdate(n,this.props))return I(this,y,Object.freeze(Object.assign({},this.props,n))),this.state=De(this.state,e),this.onBeforeUpdate(this.props,this.state),this[A]||(this[A]=!0,this[N].update(this,this[S])),this.onUpdated(this.props,this.state),this[A]=!1,this},unmount(e){return this.onBeforeUnmount(this.props,this.state),this[O].unmount(),this[N].unmount(this,this[S],null===e?null:!e),this.onUnmounted(this.props,this.state),this}})),Object.keys(e).filter((t=>r(e[t]))).forEach((e=>{c[e]=c[e].bind(c)})),c;var c}function Fe(e){let{css:t,template:n,componentAPI:r,name:o}=e;return t&&o&&Be.add(o,t),Ue(ze)(_(C(r,Object.assign({},ke,{[y]:{},[v]:{}})),Object.assign({[x]:null,[w]:null},je,{name:o,css:t,template:n})))}function qe(e){const{css:t,template:n,exports:r,name:o}=e,i=n?Ae(n,e):L;return e=>{let{slots:a,attributes:s,props:l}=e;if(r&&r[E])return function(e,t){let{slots:n,attributes:r,props:o,css:i,template:a}=t;a&&M("Pure components can not have html"),i&&M("Pure components do not have css");const s=C(e({slots:n,attributes:r,props:o}),R);return Oe((e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(e===c){const[e]=n;I(e,E,!0),Se(e,s)}return s[e](...n),s}))}(r,{slots:a,attributes:s,props:l,css:t,template:n});const u=k(r)||{},h=Fe({css:t,template:i,componentAPI:u,name:o})({slots:a,attributes:s,props:l});return{mount:(e,t,n)=>h.mount(e,n,t),update:(e,t)=>h.update(t,e),unmount:e=>h.unmount(e)}}}const Ke=function(e){const t=new Map,n=n=>(t.has(n)||t.set(n,e.call(this,n)))&&t.get(n);return n.cache=t,n}(qe);function We(t){return function(n,r,o){let{slots:i,attributes:a,parentScope:s}=void 0===o?{}:o;return e((e=>e.mount(n,s)),(e=>e({props:r,slots:i,attributes:a})),qe)(t)}}const Xe=n(390);n(501),n(458);function Ge(e,t=!1){let n={...e};for(const[r,o]of Object.entries(e))null==o?delete n[r]:t&&"object"==typeof o&&(n[r]=Ge(o));return n}function Ve(e){return"undefined"!=typeof atob?btoa(e):Buffer.from(e,"utf-8").toString("base64")}function Ze(e){return"undefined"!=typeof btoa?atob(e):Buffer.from(e,"base64").toString("utf-8")}class Je{constructor(e){this.data={protocol:"http",port:80,path:"",params:{},hashPath:"",hashParams:{},...Ge(e)}}protocol(){return this.data.protocol}host(){return this.data.host}port(){return this.data.port}path(){return this.data.path}params(){return this.data.params}hashPath(){return this.data.hashPath}hashParams({decode:e=!0,parseIntList:t=null}={}){const n={...this.data.hashParams};if(e)for(const[e,t]of Object.entries(n))n[e]=decodeURIComponent(n[e]);if(t)for(const e of t)n.hasOwnProperty(e)&&(n[e]=parseInt(n[e]));return n}pack(){const e=this.params()[Je.packParam];return e?JSON.parse(Ze(e)):null}hashPack(){const e=this.hashParams()[Je.packParam];return e?JSON.parse(Ze(e)):null}setProtocol(e){return this.data.protocol=e,this}setHost(e){return this.data.host=e,this}setPort(e){return this.data.port=e,this}setPath(e){return this.data.path=e,this}setParams(e){return this.data.params=e,this}setHashPath(e){return this.data.hashPath=e,this}setHashParams(e){return this.data.hashParams=e,this}updateParams(e){for(const[t,n]of Object.entries(e))null===n?delete this.data.params[t]:this.data.params[t]=n;return this}updateHashParams(e){for(const[t,n]of Object.entries(e))null===n?delete this.data.hashParams[t]:this.data.hashParams[t]=n;return this}setPack(e){return null==e?delete this.data.params[Je.packParam]:this.data.params[Je.packParam]=Ve(JSON.stringify(e)),this}setHashPack(e){return null==e?delete this.data.hashParams[Je.packParam]:this.data.hashParams[Je.packParam]=Ve(JSON.stringify(e)),this}apply(e=!1){if("undefined"!=typeof window)return document.location.href===this.url()||(e?document.location.replace(this.url()):document.location.href=this.url()),this}replaceState(){if("undefined"!=typeof window)return history.replaceState(null,"",this.url()),this}escape(e){return encodeURIComponent(e)}formatPort(){const e="http"===this.data.protocol&&80===this.data.port,t="https"===this.data.protocol&&443===this.data.port;return e||t?"":`:${this.data.port}`}origin(){return this.data.protocol&&this.data.host&&this.data.port?`${this.data.protocol}://${this.data.host}${this.formatPort()}`:""}formatQuery(e){return 0===Object.keys(e).length?"":"?"+Object.entries(e).map((e=>`${e[0]}=${this.escape(e[1])}`)).join("&")}formatHash(){if(""===this.hashPath()&&0===Object.keys(this.hashParams()).length)return"";const e=this.formatQuery(this.hashParams());return`#${this.hashPath()}${e}`}resource(){const e=this.formatQuery(this.params());return`${this.path()}${e}${this.formatHash()}`}url(){return`${this.origin()}${this.resource()}`}static parseQuery(e){if(!e)return{};let t={};for(const n of e.split("&")){const[e,r]=n.split("=");t[e]=r}return t}static portFor(e){return{http:80,https:443,mysql:3306}[e]}static parse(e){const[t,n]=e.split("#"),[r,o]=t.split("?"),[i,a]=r.split("://"),[s,c]=a.match(/^([^\/]+)(.*)$/).slice(1),[l,u]=s.split(":"),[h,d]=n?n.split("?"):[],p=this.parseQuery(o),f=this.parseQuery(d);return new Je({protocol:i,host:l,port:u?parseInt(u):this.portFor(i),path:c,params:p,hashPath:h,hashParams:f})}static current(){if("undefined"!=typeof window)return Je.parse(window.document.location.href)}}Je.packParam="p";const Qe=Je;new class{constructor(){this.locale="en",this.translations=null,this.fallbacks=[],this.fetch=this.fetch.bind(this),this.setLocale=this.setLocale.bind(this),this.setFallbacks=this.setFallbacks.bind(this),this.translate=this.translate.bind(this),this.localize=this.localize.bind(this),this.translatedCounter=this.translatedCounter.bind(this)}fetch(e){return fetch(e).then((e=>e.json())).then((e=>this.translations=e))}setLocale(e){this.locale=e}setFallbacks(e){this.fallbacks=e}lookup(e){const t=Array.isArray(this.translations)?this.translations:[this.translations];for(const n of t){const t=n[this.locale][e];if(t)return t}}translate(e,t={}){if(!this.translations)return"TRANSLATIONS NOT LOADED";try{let n=this.lookup(e);for(const[e,r]of Object.entries(t)){const t=new RegExp(`\\%\\{${e}\\}`,"g");console.log(typeof n),n=n.replaceAll(t,r)}return n}catch(t){return console.warn(t),`not found: '${this.locale}:${e}'`}}translatedCounter(e,t,n){return 1==e?`${e} ${this.translate(t)}`:`${e} ${this.translate(n)}`}localize(e){if("object"==typeof e){const t=JSON.stringify(e),n=[this.locale,...this.fallbacks];for(const t of n){const n=e[t];if(n)return n}return`NO TRANSLATION FOR locale ${this.locale} for ${t}`}return e}};"undefined"!=typeof document&&document.querySelector("title").textContent;class Ye extends Event{constructor(e,t=null){super(e),this.data=t}}class et extends EventTarget{constructor(){super(),this.data={}}emit(e,t){const n=new Ye(e,t);this.dispatchEvent(n)}}new et;function tt(e){return function(e){if(Array.isArray(e))return nt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ot=function e(t){return null===t?[]:null===t.parentNode?[t]:e(t.parentNode).concat([t])},it=function e(t){if(null!==t){for(;t.previousSibling;)t.previousSibling.remove();e(t.parentNode)}},at=function e(t){if(null!==t){for(;t.nextSibling;)t.nextSibling.remove();e(t.parentNode)}},st=function e(t){var n=t.parentNode;t.remove(),n.hasChildNodes()||e(n)},ct=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.doc=t,window.doc=t,this.cache={}}var t,n,r;return t=e,r=[{key:"load",value:function(t){return fetch(t).then((function(e){return e.text()})).then((function(t){var n=new DOMParser;console.log("parsing XML ...");var r=new Date,o=n.parseFromString(t,"application/xml");return console.log("... done",new Date-r),new e(o)}))}}],(n=[{key:"pbs",value:function(){return this.cache.pbs||(this.cache.pbs=tt(this.doc.querySelectorAll("pb")),console.log(this.cache.pbs)),this.cache.pbs}},{key:"facsimileUrl",value:function(e){var t=this.doc.querySelector("pb[n='".concat(e,"']")).getAttribute("facs");return t?t.replaceAll(/\/content\/pageview\/(\d+)$/g,"/download/webcache/2000/$1"):null}},{key:"pageIds",value:function(){return this.pbs().map((function(e){return e.getAttribute("n")}))}},{key:"extractPage",value:function(e){var t=this.pbs(),n=this.doc.querySelector("pb[n='".concat(e,"']")),r=t[t.indexOf(n)+1],o=function(e,t){for(var n=ot(e),r=ot(t),o=null,i=0;i<n.length;i++){if(n[i]!==r[i])return o;o=n[i]}return o}(n,r),i=o.cloneNode(!0),a=i.querySelector("pb[n='".concat(n.getAttribute("n"),"']")),s=i.querySelector("pb[n='".concat(r.getAttribute("n"),"']"));return it(a),at(s),st(s),i}}])&&rt(t.prototype,n),r&&rt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),lt=n(138);function ut(e){return function(e){if(Array.isArray(e))return ht(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ht(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ht(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const pt={css:null,exports:function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"onChange",value:function(e){var t=ut(this.root.querySelectorAll("input")).filter((function(e){return e.checked})).map((function(e){return e.value}));console.log(t);var n=this.props.setColumns;n&&n(t)}},{key:"isEnabled",value:function(e){return(this.props.columns||[]).includes(e)}}])&&dt(t.prototype,n),r&&dt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),template:function(e,t,n,r){return e('<div expr13="expr13" class="form-check form-switch me-5"></div>',[{type:n.EACH,getKey:null,condition:null,template:e('<input expr14="expr14" class="form-check-input" type="checkbox" role="switch"/><label expr15="expr15" class="form-check-label"> </label>',[{redundantAttribute:"expr14",selector:"[expr14]",expressions:[{type:t.ATTRIBUTE,name:"id",evaluate:function(e){return["switch-",e.id].join("")}},{type:t.VALUE,evaluate:function(e){return e.id}},{type:t.EVENT,name:"onchange",evaluate:function(e){return function(t){return e.onChange(t)}}},{type:t.ATTRIBUTE,name:"checked",evaluate:function(e){return e.isEnabled(e.id)}}]},{redundantAttribute:"expr15",selector:"[expr15]",expressions:[{type:t.TEXT,childNodeIndex:0,evaluate:function(e){return e.id}},{type:t.ATTRIBUTE,name:"for",evaluate:function(e){return["switch-",e.id].join("")}}]}]),redundantAttribute:"expr13",selector:"[expr13]",itemName:"id",indexName:null,evaluate:function(e){return["code","text","facsimile","map"]}}])},name:"column-control"};function ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const gt={css:null,exports:function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"onBeforeMount",value:function(e){console.log(e.pages)}},{key:"onChange",value:function(e){var t=e.target.value;this.loadPage(t)}},{key:"onPrevious",value:function(e){e.preventDefault();var t=this.props.page,n=this.props.pages.indexOf(t);if(n>0){var r=this.props.pages[n-1];this.loadPage(r)}}},{key:"onNext",value:function(e){e.preventDefault();var t=this.props.page,n=this.props.pages.indexOf(t);if(n<this.props.pages.length-1){var r=this.props.pages[n+1];this.loadPage(r)}}},{key:"onUpdated",value:function(){this.root.querySelector("select").value=this.props.page}},{key:"loadPage",value:function(e){var t=this.props.loadPage;t&&t(e)}}])&&ft(t.prototype,n),r&&ft(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),template:function(e,t,n,r){return e('<div class="input-group mb-3"><button expr9="expr9" class="btn btn-primary" type="button"><i class="bi-arrow-left-circle-fill"></i></button><select expr10="expr10" class="form-control"><option>Select page</option><option expr11="expr11"></option></select><button expr12="expr12" class="btn btn-primary" type="button"><i class="bi-arrow-right-circle-fill"></i></button></div>',[{redundantAttribute:"expr9",selector:"[expr9]",expressions:[{type:t.EVENT,name:"onclick",evaluate:function(e){return function(t){return e.onPrevious(t)}}}]},{redundantAttribute:"expr10",selector:"[expr10]",expressions:[{type:t.EVENT,name:"onchange",evaluate:function(e){return function(t){return e.onChange(t)}}}]},{type:n.EACH,getKey:null,condition:null,template:e(" ",[{expressions:[{type:t.TEXT,childNodeIndex:0,evaluate:function(e){return e.page}}]}]),redundantAttribute:"expr11",selector:"[expr11]",itemName:"page",indexName:null,evaluate:function(e){return e.props.pages}},{redundantAttribute:"expr12",selector:"[expr12]",expressions:[{type:t.EVENT,name:"onclick",evaluate:function(e){return function(t){return e.onNext(t)}}}]}])},name:"pagination"};var mt;function bt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return yt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yt(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Xe.registerLanguage("xml",(function(e){const t=e.regex,n=t.concat(/[\p{L}_]/u,t.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},o={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},i=e.inherit(o,{begin:/\(/,end:/\)/}),a=e.inherit(e.APOS_STRING_MODE,{className:"string"}),s=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),c={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:/[\p{L}0-9._:-]+/u,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[r]},{begin:/'/,end:/'/,contains:[r]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[o,s,a,i,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[o,i,s,a]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},r,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[s]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[c],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[c],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:t.concat(/</,t.lookahead(t.concat(n,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:c}]},{className:"tag",begin:t.concat(/<\//,t.lookahead(t.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}));const xt={css:null,exports:(mt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.loadPage=this.loadPage.bind(this)}var t,n,r;return t=e,(n=[{key:"onBeforeMount",value:function(e){var t=this;ct.load(e.src).then((function(e){t.update({doc:e}),t.loadPage(),window.addEventListener("hashchange",t.loadPage)}))}},{key:"onUnmounted",value:function(e,t){window.removeEventListener("hashchange",this.loadPage)}},{key:"onUpdated",value:function(){if(this.state.id){var e=this.root.querySelector("#raw"),t=this.root.querySelector("#transcription");e.innerHTML="",t.innerHTML="",e.append(this.state.code),t.append(this.state.content),Xe.highlightElement(e),this.postProcess()}}},{key:"toPage",value:function(e){var t=Qe.current();t.setHashParams({page:e}),t.apply()}},{key:"classesFor",value:function(e){return this.getColumns().includes(e)?"":"d-none"}},{key:"getColumns",value:function(){return(sessionStorage.getItem("columns")||"code,text,facsimile,map").split(",")}},{key:"setColumns",value:function(e){var t=e.join(",");sessionStorage.setItem("columns",t),this.update()}},{key:"loadPage",value:function(e){var t=Qe.current().hashParams().page;if(t){var n=this.state.doc.extractPage(t),r=(0,lt.iT)(n.outerHTML,"  ");this.augment(n),this.update({id:t,content:n,code:r,facsimileUrl:this.state.doc.facsimileUrl(t)})}}},{key:"augment",value:function(e){var t,n=bt(this.props.processors);try{for(n.s();!(t=n.n()).done;)(0,t.value)(e)}catch(e){n.e(e)}finally{n.f()}}},{key:"postProcess",value:function(){var e,t=bt(this.props.postProcessors);try{for(t.s();!(e=t.n()).done;)(0,e.value)()}catch(e){t.e(e)}finally{t.f()}}}])&&vt(t.prototype,n),r&&vt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),wt=mt,Et="components",At={Pagination:gt,ColumnControl:pt},Et in wt?Object.defineProperty(wt,Et,{value:At,enumerable:!0,configurable:!0,writable:!0}):wt[Et]=At,mt),template:function(e,t,n,r){return e('<template expr0="expr0"></template>',[{type:n.IF,evaluate:function(e){return e.state.doc},redundantAttribute:"expr0",selector:"[expr0]",template:e('<div class="row justify-content-center"><div class="col-3"><pagination expr1="expr1" class="d-block text-center my-5"></pagination><column-control expr2="expr2" class="d-flex mb-5"></column-control></div></div><div expr3="expr3" class="container-fluid"></div>',[{type:n.TAG,getComponent:r,evaluate:function(e){return"pagination"},slots:[],attributes:[{type:t.ATTRIBUTE,name:"pages",evaluate:function(e){return e.state.doc.pageIds()}},{type:t.ATTRIBUTE,name:"page",evaluate:function(e){return e.state.id}},{type:t.ATTRIBUTE,name:"load-page",evaluate:function(e){return function(t){return e.toPage(t)}}}],redundantAttribute:"expr1",selector:"[expr1]"},{type:n.TAG,getComponent:r,evaluate:function(e){return"column-control"},slots:[],attributes:[{type:t.ATTRIBUTE,name:"columns",evaluate:function(e){return e.getColumns()}},{type:t.ATTRIBUTE,name:"set-columns",evaluate:function(e){return function(t){return e.setColumns(t)}}}],redundantAttribute:"expr2",selector:"[expr2]"},{type:n.IF,evaluate:function(e){return e.state.id},redundantAttribute:"expr3",selector:"[expr3]",template:e('<div class="row"><div expr4="expr4"><pre class="px-3"><code id="raw"></code></pre></div><div expr5="expr5"><div class="px-3 tei" id="transcription"></div></div><div expr6="expr6"><img expr7="expr7" id="facsimile" class="w-100"/></div><div expr8="expr8"><div id="map" style="height: 500px"></div></div></div>',[{redundantAttribute:"expr4",selector:"[expr4]",expressions:[{type:t.ATTRIBUTE,name:"class",evaluate:function(e){return["col column ",e.classesFor("code")].join("")}}]},{redundantAttribute:"expr5",selector:"[expr5]",expressions:[{type:t.ATTRIBUTE,name:"class",evaluate:function(e){return["col column ",e.classesFor("text")].join("")}}]},{redundantAttribute:"expr6",selector:"[expr6]",expressions:[{type:t.ATTRIBUTE,name:"class",evaluate:function(e){return["col px-3 column ",e.classesFor("facsimile")].join("")}}]},{redundantAttribute:"expr7",selector:"[expr7]",expressions:[{type:t.ATTRIBUTE,name:"src",evaluate:function(e){return e.state.facsimileUrl}}]},{redundantAttribute:"expr8",selector:"[expr8]",expressions:[{type:t.ATTRIBUTE,name:"class",evaluate:function(e){return["col px-3 column ",e.classesFor("map")].join("")}}]}])}])}])},name:"viewer"};var wt,Et,At,St=n(633);function Ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nt(e,t,n){return t&&Ot(e.prototype,t),n&&Ot(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var jt=Nt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Tt(this,e),this.element=document.querySelector(t);We(xt)(this.element,n)}));jt.processors=St,window.TeiViewer=jt})()})();